# Processmaker - журнал изменений

## v0.2.0 (2025-09-09)

**Смена стека**:

Нашел более грамотное решение на базе Vercel, сменив весь тех. стек. Опишу его, чтобы было понятно сколько всего нужно, чтобы сделать полновесный чат.

Основа - Chat SDK (https://chat-sdk.dev/). Из чего состоит:

- Vercel AI SDK (https://ai-sdk.dev) - движок ИИ.
- Vercel AI Elements (https://ai-sdk.dev/elements) - готовые UI элементы.
- Vercel AI Gateway (https://vercel.com/ai-gateway) - шлюз к моделям ИИ вместо OpenRouter.
- Auth.js (https://authjs.dev/) - сервис для авторизации.
- Drizzle ORM (https://orm.drizzle.team/) - для запросов к БД.
- Neon (https://neon.com/) - сервис БД.
- Vercel Blob (https://vercel.com/storage/blob) - хранение файлов.
- Инфраструктура так же на Vercel - сервер с приложением, брендмауэр, шифрование, защита от ботов и атак, домен, DNS, сертификаты.
- Vercel так же полностью автоматизирует DevOps, что убирает затраты сил на разворачивание новых версий.

**Функции, что нам могут быть важны**:

- Выбор модели ИИ из предустановленного списка.
- Сессия чата сохраняется при перезагрузке. Если авторизоваться, то чаты будут сохранены для пользователя.
- Канвас редактирование документа с историей версий и подсветкой изменений. Команды "Добавить финальную доработку" и "Запросить улучшения".
- Подача файлов ИИ.
- Возможность делиться чатами.
- Промт от Романа.

**Функции, что прилетели дпом**:

- Кнавасы для редактирования кода, картинки и таблицы.

**Как тестить**:

- Авторизоваться, чтобы чаты сохранялись - Слева внизу "Гость", "Вход", "Создать новый аккаунт".
- Начать общение с ИИ, попросив создать документ на тему.
- ИИ должен создать документ и открыть канвас.
- Общаться дальше до достижения результата.
- Скопировать markdown документ в буфер, кнопка в верхнем правом углу.

## v0.1.0 (2025-09-05)

Первый выпуск.

**Реализованые функции**:

- Чат с ИИ по документу.
- ИИ редактирурет документ в Markdown.
- Процесс, показывающий, что поменял ИИ и подтверждение/отмена.
- Стриминг в чат и в документ.

**Под капотом**:

- Один агент, который сам понимает как редактировать документ и как отвечать пользователю. Не все модели ИИ так умеют, список ограничен.
- Техника [Shared State](https://docs.copilotkit.ai/langgraph/shared-state) для совместного редактирования.
- Техника [Human in the Loop](https://docs.copilotkit.ai/langgraph/human-in-the-loop) для согласования изменений.
- [CopilotKit](https://www.copilotkit.ai/) как готовая основа для построения ИИ-веб-приложений
- [LangChain](https://www.langchain.com/) как бекенд-фреймворк ИИ. Выбран из-за максимальной поддержки в CopilotKit.

https://processmaker-rolderclients-rolders-projects-4f627eed.vercel.app?_vercel_share=wKLYNp0bUlt5fkUb4vdyKa3170Ca9jYE
